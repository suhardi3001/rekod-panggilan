<div class="min-h-screen flex flex-col items-center justify-center p-4">
    <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md mx-auto">
        
        <div id="connection-gauge" class="rope-container">
            <svg viewBox="0 0 200 60" xmlns="http://www.w3.org/2000/svg">
                <path class="rope-path rope-left" d="M -10 30 C 20 40, 40 20, 75 30" />
                <path class="rope-path rope-right" d="M 210 30 C 180 20, 160 40, 125 30" />
                <path class="knot-path" d="M 85 30 Q 100 15 115 30 Q 100 45 85 30" />
                <path class="knot-path" d="M 100 20 L 100 40" />
            </svg>
            <div class="text-center text-xs text-gray-400 mt-[-5px]" id="connection-status">Menunggu Sambungan...</div>
        </div>

        <div class="text-center mb-8 mt-4">
            <h1 class="text-2xl md:text-3xl font-bold text-gray-800">Sistem Log Masuk</h1>
            <p class="text-gray-500 text-sm mt-2">Sila log masuk untuk meneruskan</p>
        </div>
        
        <form id="login-form" class="space-y-4" onsubmit="return false;">
            <div>
                <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                <input type="email" id="email" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required placeholder="admin@example.com">
            </div>
            <div>
                <label class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                <input type="password" id="password" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required placeholder="********">
            </div>
            <div id="login-error" class="text-red-500 text-sm hidden bg-red-100 p-3 rounded border border-red-200 whitespace-pre-line"></div>
            <button type="submit" onclick="performLogin()" id="login-btn" class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">Log Masuk</button>
        </form>
        
        <div class="mt-4 text-center">
             <button onclick="toggleSignUp()" class="text-sm text-blue-500 hover:underline">Tiada akaun? Daftar disini</button>
        </div>
    </div>
</div>

<script>
    // Local scripts for Login
    async function performLogin() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const btn = document.getElementById('login-btn');
        const errDiv = document.getElementById('login-error');
        
        btn.textContent = "Processing...";
        btn.disabled = true;

        const { data, error } = await supabase.auth.signInWithPassword({ email, password });
        
        if (error) {
            btn.textContent = "Log Masuk";
            btn.disabled = false;
            errDiv.textContent = error.message;
            errDiv.classList.remove('hidden');
        } else {
            // Success handled by onAuthStateChange in main index.html usually, 
            // but we can trigger reload or UI update here
            location.reload(); 
        }
    }
    
    // Toggle Sign Up logic would go here similarly
</script>
